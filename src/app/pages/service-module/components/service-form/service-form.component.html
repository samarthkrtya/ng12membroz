<form [formGroup]="form" (ngSubmit)="onSubmit(form.value,form.valid)" novalidate>
    <div class="main-content">
        <div class="container-fluid">
            <div class="row">
                <div class="offset-xl-1 col-xl-10">
                    <h3 class="card-title"> {{getLang('addservice', 'Add Service')}}</h3>

                    <div class="loader" *ngIf="isLoadingData">
                        <svg class="circular" viewBox="25 25 50 50">
                            <circle class="path" cx="50" cy="50" r="10" fill="none" stroke-width="2"
                                stroke-miterlimit="10" />
                        </svg>
                    </div>

                    <div class="card" *ngIf="!isLoadingData">
                        <div class="card-body">
                            <div class="row">
                                <div class="offset-xl-1 col-xl-10">
                                    <h4 class="card-title"> {{getLang('generalinformation', 'General Information')}}
                                    </h4>
                                    <app-wf-permission #wfpermission [formObj]="formObj"
                                        [schemaname]="formObj.schemaname" [bindId]="bindId" [isOnlyBtn]='false'
                                        [bindObj]="serviceModel" (onOperation)="onOperation($event)">
                                    </app-wf-permission>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <label class="col-form-label">
                                                {{getLang('servicename', 'Service Name')}}
                                                <span class="text-danger">*</span>
                                            </label>
                                            <mat-form-field class="example-full-width">
                                                <input matInput formControlName="title">
                                            </mat-form-field>
                                            <div [hidden]="form.get('title').valid || (form.get('title').pristine && !submitted)"
                                                class="text-danger">
                                                <small *ngIf="form.get('title').hasError('required')"
                                                    class="error-label">
                                                    {{getLang('serviceisrequired', 'Service is required !')}}
                                                </small>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <label class="col-form-label">
                                                {{getLang('servicetype', 'Service Type')}}
                                                <span class="text-danger">*</span>
                                            </label>

                                            <div class="input-group align-items-center">
                                                <dynamic-autocomplete *ngIf="category_fields.autocomplete" class="flex-grow-1" [formControlName]="category_fields.fieldname" [setting]="category_fields"
                                                  [dbvalue]="category_fields.dbvalue">
                                                </dynamic-autocomplete>

                                                <app-quickadd  [quickfromstyle]="'single'" [id]="'_id'" [quickformschemaname]="'treatment'"
                                                [quickdisplayname]="'Service Type'"  class="off-form-quick" (childSubmitData)="getSubmittedData($event)" >
                                                </app-quickadd>
                                            </div>
                                            
                                            <div [hidden]="form.get('category').valid || (form.get('category').pristine && !submitted)"
                                                class="text-danger">
                                                <small *ngIf="form.get('category').hasError('required')"
                                                    class="error-label">
                                                    {{getLang('typeisrequired', 'Type is required !')}}
                                                </small>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <label class="col-form-label">
                                                {{getLang('tags', 'Tags')}}
                                            </label> 
                                                <mat-form-field class="example-chip-list">
                                                    <mat-chip-list #chipList>
                                                        <mat-chip *ngFor="let tag of tags" (removed)="remove(tag)">
                                                            {{tag}}
                                                            <!-- <button matChipRemove>
                                                                                                  <mat-icon>cancel</mat-icon>
                                                                                                </button> -->
                                                            <mat-icon matChipRemove>cancel</mat-icon>
                                                        </mat-chip>
                                                        <input [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                            [matChipInputAddOnBlur]="addOnBlur" (matChipInputTokenEnd)="add($event)"
                                                            formControlName="servicetag">
                                                    </mat-chip-list>
                                                </mat-form-field>
                                        </div>
                                        <div class="col-sm-12">
                                            <label class="col-form-label">
                                               
                                            </label>
                                            <div class="mt-2">
                                                <section class="example-section">
                                                    <mat-checkbox class="example-margin" 
                                                        type="checkbox"
                                                        formControlName="onlineavailibility">
                                                        {{getLang('onlineavail',
                                                        'Available for online booking')}}
                                                    </mat-checkbox>
                                                </section>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <label class="col-form-label">
                                                {{getLang('servicedescription', 'Service Description')}}
                                            </label>
                                            <div class="mt-2">
                                                <angular-editor [placeholder]="'Enter text here...'"
                                                    formControlName="description">
                                                </angular-editor>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card" *ngIf="!isLoadingData">
                        <div class="card-body">
                            <div class="row">
                                <div class="offset-xl-1 col-xl-10">
                                    <h4 class="card-title">
                                        {{getLang('selectstaffwhoperformthisservice', 'Select staff who perform this
                                        service')}}
                                    </h4>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <section class="example-section">
                                                <mat-checkbox class="example-margin" (change)="setAll($event.checked)">
                                                    {{getLang('selectall', 'Select All')}}
                                                </mat-checkbox>
                                            </section>
                                            <div class="row membroz-row">
                                                <div class="col-xl-3 col-lg-3 col-md-3 col-sm-4 col-6 membroz-col d-flex"
                                                    *ngFor="let staff of staffList">
                                                    <div class="card card-border">
                                                        <div class="card-body card-body-10">
                                                            <div class="d-flex justify-content-end mb-1">
                                                                <section class="example-section">
                                                                    <mat-checkbox [(ngModel)]="staff.checked"
                                                                        class="example-margin"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                    </mat-checkbox>
                                                                </section>
                                                                <!-- grey -->
                                                                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="14"
                                                                    height="14" viewBox="0 0 14 14">
                                                                    <g transform="translate(-784 -939)">
                                                                        <rect width="14" height="14" rx="7"
                                                                            transform="translate(784 939)"
                                                                            class="svg-fill-primary-icon" />
                                                                        <path
                                                                            d="M4999.229,2017.375l2.406,2.406,3.816-3.816"
                                                                            transform="translate(-4211.377 -1071.707)"
                                                                            fill="none" stroke="#fff"
                                                                            stroke-linecap="round" stroke-width="1" />
                                                                    </g>
                                                                </svg>-->
                                                                <!-- while -->
                                                                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="14"
                                                                    height="14" viewBox="0 0 14 14">
                                                                    <g transform="translate(-784 -939)">
                                                                        <rect width="14" height="14" rx="7"
                                                                            transform="translate(784 939)"
                                                                            class="svg-fill-gray-icon" />
                                                                        <path
                                                                            d="M4999.229,2017.375l2.406,2.406,3.816-3.816"
                                                                            transform="translate(-4211.377 -1071.707)"
                                                                            fill="none" stroke="#fff"
                                                                            stroke-linecap="round" stroke-width="1" />
                                                                    </g>
                                                                </svg> -->
                                                            </div>

                                                            <div class="text-center">
                                                                <div class="d-flex justify-content-center">
                                                                    <div class="mb-3">
                                                                        <!-- <div class="badge-staff-name mb-3"> T </div> -->
                                                                        <img [src]="staff.profileimage ? staff.profileimage : '../assets/img/default-avatar.png'"
                                                                            class="staff-avatar-img rounded-circle"
                                                                            alt="">
                                                                    </div>
                                                                </div>
                                                                <div class="staff-title"> 
                                                                    <span class="font-bold">{{staff.fullname ? staff.fullname : '---'}} </span> <br>
                                                                    {{staff?.designationid?.title}}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card" *ngIf="!isLoadingData">
                        <div class="card-body">
                            <div class="row">
                                <div class="offset-xl-1 col-xl-10">
                                    <div class="row">
                                        <div class="col-sm-9">
                                            <h4 class="card-title">
                                                {{getLang('availablilityindayandhours', 'Availability in day & hours')}}
                                            </h4>
                                        </div>
                                        <div class="col-sm-3 mt-md-0 mt-3 text-right">
                                            <app-workingdays class="text-left" (submitted)="workinghoursupdated($event)">                                               
                                                <button conBtn data-toggle="modal" type="button" class="btn btn-primary" data-target="#workingDayModel"> Working Details </button>                                              
                                            </app-workingdays>
                                        </div>
                                    </div>
                                    <div class="row">
                                        
                                        <div class="col-sm-12">
                                            <label class="col-form-label">
                                                {{getLang('workingdays', 'Working Days')}}
                                                <span class="text-danger">*</span>
                                            </label>

                                            
                                            <div class="mt-2 row">

                                                <div class="col-12 col-md-6">
                                                    <section class="example-section row">
                                                        <mat-checkbox class="example-margin m-0 col-12" [disabled]="isdisabled" (change)="setAllDays($event.checked)">
                                                            <span class="font-bold">{{getLang('selectall', 'Select All')}}</span>
                                                        </mat-checkbox>
                                                    </section>
                                                    <section class="example-section row">
                                                        <mat-checkbox class="example-margin m-0 col-4"
                                                            [(ngModel)]="day.checked" *ngFor="let day of daysList"
                                                            (change)='onDayChecked()'
                                                            [ngModelOptions]="{standalone: true}"
                                                            [disabled]="day.disabled">
                                                            {{day.code}}
                                                        </mat-checkbox>
                                                    </section>
                                                    <div *ngIf="days.length == 0 && submitted" class="text-danger">
                                                        <small class="error-label">
                                                            {{ getLang('selectworkingdays', 'Select working day !')}}
                                                        </small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-sm-4">
                                            <label class="col-form-label">
                                                {{getLang('starttime', 'Start Time')}} <span
                                                    class="text-danger">*</span>
                                            </label>

                                            <mat-form-field class="example-full-width">
                                                <input matInput type="time" formControlName="starttime"  >
                                                <mat-hint>{{getLang('hh:mm', 'HH:MM')}}</mat-hint>
                                            </mat-form-field>

                                            <div [hidden]="form.get('starttime').valid || (form.get('starttime').pristine && !submitted)"
                                                class="text-danger">
                                                <small *ngIf="form.get('starttime').hasError('required')"
                                                    class="error-label">
                                                    {{getLang('starttimeisrequired', 'Start Time is required !')}}
                                                </small>
                                            </div>
                                        </div>

                                        <div class="col-sm-4">
                                            <label class="col-form-label">
                                                {{getLang('endtime', 'End Time')}}
                                                <span class="text-danger">*</span>
                                            </label>

                                            <mat-form-field class="example-full-width">
                                                <input matInput type="time" formControlName="endtime" >
                                                <mat-hint>{{getLang('hh:mm', 'HH:MM')}}</mat-hint>
                                            </mat-form-field>

                                            <div [hidden]="form.get('endtime').valid || (form.get('endtime').pristine && !submitted)"
                                                class="text-danger">
                                                <small *ngIf="form.get('endtime').hasError('required')"
                                                    class="error-label">
                                                    {{getLang('endtimeisrequired', 'End Time is required !')}}
                                                </small>
                                            </div>
                                        </div>

                                        <div class="col-sm-4">
                                            <label class="col-form-label">
                                                {{getLang('duration', 'Duration')}} <span class="text-danger">*</span>
                                            </label>
                                            <mat-form-field class="example-full-width">
                                                <input type="number" matInput formControlName="duration">
                                                <mat-hint>{{getLang('min', 'MIN')}}</mat-hint>
                                            </mat-form-field>
                                            <div [hidden]="form.get('duration').valid || (form.get('duration').pristine && !submitted)"
                                                class="text-danger">
                                                <small *ngIf="form.get('duration').hasError('required')"
                                                    class="error-label">
                                                    {{getLang('durationisrequired', 'Duration is required !')}}
                                                </small>
                                                <small *ngIf="form.get('duration').hasError('insertonlypositivenumber')"
                                                    class="error-label">
                                                    {{getLang('durationhouldbepositive ', 'Duration should be positive
                                                    !')}}
                                                </small>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 mt-3">
                                            <div class="d-flex mb-2">
                                                <div class="flex-grow-1">
                                                    <label class="col-form-label pt-0"> {{getLang('breaktime', 'Break
                                                        time')}} </label>
                                                </div>
                                                <div>
                                                    <a class="btn btn-link m-0 p-0 font-16 d-flex align-items-center"
                                                        href="#" data-toggle="modal" data-target="#myModal3">
                                                        <i class="material-icons mr-1">add</i>
                                                        {{getLang('addbreak', 'Add break')}}
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="table-responsive">
                                                <table mat-table [dataSource]="breakList"
                                                    class="mat-elevation-z8 w-100 table-hover table-membroz">

                                                    <ng-container matColumnDef="title">
                                                        <th mat-header-cell *matHeaderCellDef> {{getLang('name',
                                                            'Name')}} </th>
                                                        <td mat-cell *matCellDef="let element"> {{element?.title}}
                                                        </td>
                                                    </ng-container>
                                                    <!-- <ng-container matColumnDef="days">
                                                        <th mat-header-cell *matHeaderCellDef> {{getLang('days',
                                                            'Days')}} </th>
                                                        <td mat-cell *matCellDef="let element"> {{element.days &&
                                                            element.days.length >
                                                            0 ? element.days.join(',') : ''}}
                                                        </td>
                                                    </ng-container> -->

                                                    <ng-container matColumnDef="starttime">
                                                        <th mat-header-cell *matHeaderCellDef> {{getLang('starttime',
                                                            'Start Time')}} </th>
                                                        <td mat-cell *matCellDef="let element"> {{element?.starttime}}
                                                        </td>
                                                    </ng-container>

                                                    <ng-container matColumnDef="endtime">
                                                        <th mat-header-cell *matHeaderCellDef> {{getLang('endtime', 'End
                                                            Time')}} </th>
                                                        <td mat-cell *matCellDef="let element"> {{element?.endtime}}
                                                        </td>
                                                    </ng-container>
                                                    <ng-container matColumnDef="action">
                                                        <th mat-header-cell *matHeaderCellDef class="text-right">
                                                            {{getLang('action', 'Action')}}
                                                        </th>
                                                        <td mat-cell *matCellDef="let element ; let i = index;"
                                                            class="text-right">

                                                            <button type="button" (click)="onRemoveBreak(i)"
                                                                class="btn btn-link btn-primary btn-just-icon"
                                                                matTooltip="Delete" [matTooltipPosition]="'above'">
                                                                <i class="material-icons">delete</i>
                                                            </button>
                                                        </td>
                                                    </ng-container>
                                                    <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                                                    <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
                                                </table>
                                            </div>
                                            <a class="btn btn-link p-0 font-16 d-flex align-items-center"
                                                (click)="avlblOption('avail')" data-toggle="modal"
                                                data-target="#myModal">
                                                <i class="material-icons mr-1">add</i>
                                                {{getLang('advanceavailabilityoptions', 'Advance availability
                                                options')}}
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card" *ngIf="!isLoadingData">
                        <div class="card-body">
                            <div class="row">
                                <div class="offset-xl-1 col-xl-10">
                                    <h4 class="card-title"> {{getLang('advancepriceandcommissionsetting', 'Advance price
                                        & commission setting')}} </h4>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <label class="col-form-label"> {{getLang('cost', 'Cost')}}
                                                <span class="text-danger">*</span>
                                            </label>
                                            <mat-form-field class="example-full-width">
                                                <input type="number" matInput formControlName="charges">
                                            </mat-form-field>
                                            <div [hidden]="form.get('charges').valid || (form.get('charges').pristine && !submitted)"
                                                class="text-danger">
                                                <small *ngIf="form.get('charges').hasError('required')"
                                                    class="error-label">
                                                    {{getLang('costisrequired ', 'Cost is required !')}}
                                                </small>
                                                <small *ngIf="form.get('charges').hasError('insertonlypositivenumber')"
                                                    class="error-label">
                                                    {{getLang('costshouldbepositive ', 'Cost should be positive
                                                    !')}}
                                                </small>
                                            </div>
                                        </div>

                                        <div class="col-sm-6">
                                            <label class="col-form-label">
                                                {{getLang('hostcommission', 'Host Commission')}}
                                            </label>
                                            <mat-form-field class="example-full-width">
                                                <input type="number" matInput formControlName="commission">
                                            </mat-form-field>
                                            <div [hidden]="form.get('commission').valid || (form.get('commission').pristine && !submitted)"
                                                class="text-danger">
                                                <small
                                                    *ngIf="form.get('commission').hasError('insertonlypositivenumber')"
                                                    class="error-label">
                                                    {{getLang('chargesshouldbepositive ', 'Charges should be positive
                                                    !')}}
                                                </small>
                                            </div>
                                        </div>

                                        <div class="col-sm-6">
                                            <label class="col-form-label">
                                                {{getLang('assistantcommission', 'Assistant Commission')}}
                                            </label>
                                            <mat-form-field class="example-full-width">
                                                <input type="number" matInput formControlName="assistantcommission">
                                            </mat-form-field>
                                            <div [hidden]="form.get('assistantcommission').valid || (form.get('assistantcommission').pristine && !submitted)"
                                                class="text-danger">
                                                <small
                                                    *ngIf="form.get('assistantcommission').hasError('insertonlypositivenumber')"
                                                    class="error-label">
                                                    {{getLang('chargesshouldbepositive ', 'Charges should be positive
                                                    !')}}
                                                </small>
                                            </div>
                                        </div>

                                        <div class="col-sm-6">
                                            <label class="col-form-label">
                                                {{getLang('tax(inclidesinprice)', 'TAX (Includes In Price)')}}
                                            </label>
                                            <mat-form-field>
                                                <mat-select matNativeControl multiple formControlName="taxes">
                                                    <mat-option [value]="taxes._id" *ngFor="let taxes of taxesList">
                                                        {{taxes?.taxname}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-sm-12 d-none">
                                            <a class="btn btn-link p-0 font-16 d-flex align-items-center" href="#"
                                                data-toggle="modal" data-target="#myModal2"
                                                (click)="avlblOption('charges')">
                                                <i class="material-icons mr-1">add</i>
                                                {{getLang('advancepriceandcommissionoption', 'Advance price & commission
                                                option')}}
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card" *ngIf="!isLoadingData">
                        <div class="card-body">
                            <div class="row">
                                <div class="offset-xl-1 col-xl-10">
                                    <h4 class="card-title mb-0"> {{getLang('imagegallery', 'Image Gallery')}} </h4>
                                    <div class="font-13 mb-3"><span class="font-weight-bold">{{getLang('tips:',
                                            'Tips:')}} </span>
                                        {{getLang('pleaseuseimageswitha4:2ratio(minimunof1200pxwidth).',
                                        'Please use images with a 4:2 ratio (minimum of 1200px width).')}}
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">


                                            <div class="mt-2">
                                                <div class="row membroz-row">
                                                    <div
                                                        class="membroz-col mb-3">
                                                        <span class="btn-file text-center add-upload-inner-vcenter">
                                                            <label class="upload_button mb-0 add-upload-main"
                                                                for="fileupload">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="18.77"
                                                                    height="18.77" viewBox="0 0 18.77 18.77">
                                                                    <g transform="translate(-807.636 -666.636)">
                                                                        <line x2="11.858" y2="11.858"
                                                                            transform="translate(817.021 667.636) rotate(45)"
                                                                            fill="none" stroke="#949494"
                                                                            stroke-linecap="round" stroke-width="1" />
                                                                        <line x1="11.858" y2="11.858"
                                                                            transform="translate(817.021 667.636) rotate(45)"
                                                                            fill="none" stroke="#949494"
                                                                            stroke-linecap="round" stroke-width="1" />
                                                                    </g>
                                                                </svg>
                                                                <div class="add-img-text mt-2"> {{getLang('addimage', 'Add image')}}
                                                                </div>
                                                            </label>
                                                            <input type="file" id="fileupload" #fileInput ng2FileSelect
                                                                [style.display]="'none'" [uploader]="customeUploader"
                                                                (change)="fileInput.value=''" multiple />
                                                        </span>

                                                    </div>
                                                    <img class="loading" src="assets/img/image-loader.GIF"
                                                            style="height: 100px; width: 100px; display: none">
                                                    <div class="membroz-col mb-3"
                                                        *ngFor="let item of formImageArray;let i = index">
                                                        <div class="position-relative d-flex">
                                                            <img [src]="item.attachment" alt=""
                                                                class="img-fluid img-add-product">
                                                            <span class="img-add-product-delete">
                                                                <button mat-raised-button
                                                                      type="button"
                                                                    class="btn btn-just-icon btn-link"
                                                                    (click)="removeImg(item.attachment)">
                                                                    <i class="material-icons">cancel</i>
                                                                </button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer fixed-bottom bg-white shadow-top" *ngIf="!isLoadingData">
        <div class="container-fluid">
            <div class="row">
                <div class="offset-xl-1 col-xl-10">
                    <div class="row">
                        <div class="col-sm-12 text-right">
                            <button class="btn btn-default" type="button"
                                [routerLink]="['/pages/dynamic-list/list/service']" [disabled]="disableButton">
                                <i class="material-icons">close</i> {{getLang('cancel', 'Cancel')}}
                            </button>
                            <button class="btn btn-primary ml-2" type="submit" [disabled]="disableButton" >
                                <i class="material-icons">save</i> {{getLang('save', 'Save')}}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</form>



<div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <form [formGroup]="brform" (ngSubmit)="onSubmitBreak(brform.value,brform.valid)" novalidate>
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"> {{getLang('addbreak', 'Add Break')}} </h4>
                    <button id="closebrk" mat-button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                        (click)="brform.reset()">
                        <i class="material-icons">clear</i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-4">
                            <label class="col-form-label">
                                {{getLang('title', 'Title')}} <span class="text-danger">*</span>
                            </label>
                            <mat-form-field class="example-full-width">
                                <input matInput formControlName="title" placeholder="Title">
                            </mat-form-field>
                            <div [hidden]="brform.get('title').valid || (brform.get('title').pristine)"
                                class="text-danger">
                                <small *ngIf="brform.get('title').hasError('required')" class="error-label">
                                    {{getLang('titleisrequired', 'Title is required !')}}
                                </small>
                            </div>
                        </div>

                        <div class="col-md-3 membroz-col d-none">
                            <label class="col-form-label">
                                {{getLang('days', 'Days')}}
                            </label>
                            <mat-form-field class="example-full-width">
                                <section class="example-section" appearance="standard">
                                    <mat-select matNativeControl multiple formControlName="days"
                                        placeholder="Choose day">
                                        <ng-container *ngFor="let day of daysList">
                                            <mat-option [value]="day.code" *ngIf="day.checked">
                                                <span> {{day?.code}}</span>
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                </section>
                            </mat-form-field>
                        </div>

                        <div class="col-md-4 membroz-col">
                            <label class="col-form-label">
                                {{getLang('starttime', 'Start Time')}}
                                <span class="text-danger">*</span>
                            </label>

                            <mat-form-field class="example-full-width">
                                <input matInput type="time" formControlName="starttime">
                                <mat-hint>{{getLang('hh:mm', 'HH:MM')}}</mat-hint>
                            </mat-form-field>

                            <div [hidden]="brform.get('starttime').valid || (brform.get('starttime').pristine)"
                                class="text-danger">
                                <small *ngIf="brform.get('starttime').hasError('required')" class="error-label">
                                    {{getLang('starttimeisrequired', 'Start time is required !')}}
                                </small>
                            </div>
                        </div>
                        <div class="col-md-4 membroz-col">
                            <label class="col-form-label">
                                {{getLang('endtime', 'End Time')}}
                                <span class="text-danger">*</span>
                            </label>

                            <mat-form-field class="example-full-width">
                                <input matInput type="time" formControlName="endtime">
                                <mat-hint>{{getLang('hh:mm', 'HH:MM')}}</mat-hint>
                            </mat-form-field>

                            <div [hidden]="brform.get('endtime').valid || (brform.get('endtime').pristine)"
                                class="text-danger">
                                <small *ngIf="brform.get('endtime').hasError('required')" class="error-label">
                                    {{getLang('endtimeisrequired', 'End time is required !')}}
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" type="button" data-dismiss="modal" (click)="brform.reset()">
                        <i class="material-icons">close</i> {{getLang('cancel', 'Cancel')}}
                    </button>
                    <button class="btn btn-primary ml-2" type="submit">
                        <i class="material-icons">save</i> {{getLang('save', 'Save')}}
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title"> {{getLang('advanceavailabilityoptions','Advance Availability Options')}} </h4>
                <button mat-button type="button" id="avilClose" class="close" data-dismiss="modal" aria-hidden="true"
                    (click)="onAdvcd()">
                    <i class="material-icons">clear</i>
                </button>
            </div>
            <div class="modal-body">
                <ng-container *ngIf="availList.length == 0">
                    <span class="text-center"> {{getLang('nostaff','No Staff !!')}} </span>
                </ng-container>
                <div class="row" *ngFor="let advn of availList">
                    <div class="col-lg-3 col-sm-6 d-flex">
                        <div class="d-flex align-items-center">
                            <div class="media mb-3">
                                <img [src]="advn && advn.image ? advn.image : 'https://randomuser.me/api/portraits/women/79.jpg'"
                                    class="staff-avatar-available-img rounded-circle mr-3" alt="">
                                <div class="media-body">
                                    <div class="staff-title">
                                        {{advn.fullname}}
                                        <br>
                                        {{advn.branchid.branchname}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <label class="col-form-label">
                            {{getLang('dayselection','Day selection')}}
                        </label>
                        <mat-form-field>
                            <mat-select matNativeControl multiple [(ngModel)]="advn.selecteddays">
                                <mat-option [value]="day.code" *ngFor="let day of daysList">
                                    {{day?.code}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <label class="col-form-label">
                            {{getLang('starttime','Start Time')}}
                        </label>

                        <mat-form-field class="example-full-width">
                            <input matInput type="time" [(ngModel)]="advn.starttime">
                            <mat-hint>{{getLang('hh:mm', 'HH:MM')}}</mat-hint>
                        </mat-form-field>  

                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <label class="col-form-label">
                            {{getLang('endtime','End Time')}}
                        </label>
                        
                        <mat-form-field class="example-full-width">
                            <input matInput type="time" [(ngModel)]="advn.endtime">
                            <mat-hint>{{getLang('hh:mm', 'HH:MM')}}</mat-hint>
                        </mat-form-field> 
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-default" type="button" data-dismiss="modal" (click)="onAdvcd()">
                    <i class="material-icons">close</i> {{getLang('cancel','Cancel')}}
                </button>

                <button class="btn btn-primary ml-2" type="button" (click)="onAdvcd()">
                    <i class="material-icons">save</i> {{getLang('save','Save')}}
                </button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title"> {{getLang('advancepriceandcommissionoption','Advance price & commission
                    option')}}
                </h4>
                <button mat-button type="button" id="costClose" class="close" data-dismiss="modal" aria-hidden="true"
                    (click)="onAdvcdCost()">
                    <i class="material-icons">clear</i>
                </button>
            </div>
            <div class="modal-body">
                <ng-container *ngIf="costList.length == 0">
                    <span class="text-center">
                        {{getLang('nostaff','No Staff !!')}}
                    </span>
                </ng-container>
                <div class="row" *ngFor="let stf of costList">
                    <div class="col-md-4 d-flex">
                        <div class="d-flex align-items-center">
                            <div class="media mb-3">
                                <img src="https://randomuser.me/api/portraits/women/79.jpg"
                                    class="staff-avatar-available-img rounded-circle mr-3" alt="">
                                <div class="media-body">
                                    <div class="staff-title">{{stf?.fullname}}
                                        <br>
                                        {{stf?.branchid.branchname}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <label class="col-form-label">
                            {{getLang('price','Price')}}
                        </label>
                        <mat-form-field class="example-full-width">
                            <input type="number" matInput [(ngModel)]="stf.charges" min="0"
                                oninput="this.value = Math.abs(this.value)">
                        </mat-form-field>

                    </div>
                    <div class="col-md-4">
                        <label class="col-form-label">
                            {{getLang('commission','Commission')}}
                        </label>
                        <mat-form-field class="example-full-width">
                            <input type="number" matInput [(ngModel)]="stf.commission" min="0"
                                oninput="this.value = Math.abs(this.value)">
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default" type="button" data-dismiss="modal" (click)="onAdvcdCost()">
                    <i class="material-icons">close</i> {{getLang('cancel','Cancel')}}
                </button>

                <button class="btn btn-primary ml-2" type="button" (click)="onAdvcdCost()">
                    <i class="material-icons">save</i> {{getLang('save','Save')}}
                </button>
            </div>
        </div>
    </div>
</div>