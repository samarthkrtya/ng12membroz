<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-xl-12">
        <div class="row mt-lg-3 mt-0">
          <h3 class="col-sm-6 card-title align-self-center mb-sm-0 mt-0 mb-3">Documents</h3>
          <div class="col-sm-6 text-right">
            <button type="button" class="btn btn-primary" data-backdrop="static"
            data-keyboard="false"
            data-toggle="modal"
            data-target="#myModalAttachment" (click)="createDocument()">
              <i class="material-icons">upload</i> File Upload
            </button>
            <button
              type="button"
              class="btn btn-primary ml-2"
              data-toggle="modal"
              data-backdrop="static"
              data-keyboard="false"
              data-target="#createFolder" (click)="createFolder()">
              <i class="material-icons">add</i> Create Folder
            </button>
          </div>
        </div>
        <div class="full-height-main">
          <div class="card full-height-main-container mn-ht-100vh">

            <div fxLayout="row" *ngIf="!contentVisibility" fxLayoutAlign="space-around center" style="height:100%; position: relative; margin-left: 50%; margin-right: 50%;">
              <mat-spinner diameter="50" strokeWidth="5"></mat-spinner>
            </div>

            <div class="row no-gutters w-100 h-100" *ngIf="contentVisibility">
              <div class="col-xl-3 col-lg-3 col-md-3 primary-light-bg primary-light-bg-border">
                <div class="p-3">
                  <ul class="list-group documents-list" role="tablist">
                    <li class="list-group-item" (click)="LoadData()">
                      <a
                        class="list-group-item-action d-flex align-items-center active"
                        data-toggle="tab"
                        href="#link4"
                        role="tablist">
                        <span class="flex-grow-1">
                          <svg
                            class="mr-2"
                            xmlns="http://www.w3.org/2000/svg"
                            width="20"
                            height="20"
                            viewBox="0 0 20 20">
                            <g transform="translate(-6196 -4114)">
                              <rect width="20" height="20" transform="translate(6196 4114)" fill="none"/>
                              <path d="M9.875-2.687A1.523,1.523,0,0,0,8.4-4.25H-6.4A1.523,1.523,0,0,0-7.875-2.687V.438A1.523,1.523,0,0,0-6.4,2H8.4A1.523,1.523,0,0,0,9.875.438ZM8.4-5.292h0a2.338,2.338,0,0,1,.946.2L6.37-9.8a1.457,1.457,0,0,0-1.231-.7H-3.139a1.457,1.457,0,0,0-1.231.7L-7.344-5.091a2.329,2.329,0,0,1,.945-.2H8.4ZM6.917-2.167A1.015,1.015,0,0,1,7.9-1.125,1.015,1.015,0,0,1,6.917-.083a1.015,1.015,0,0,1-.986-1.042A1.015,1.015,0,0,1,6.917-2.167Zm-2.958,0a1.015,1.015,0,0,1,.986,1.042A1.015,1.015,0,0,1,3.958-.083a1.015,1.015,0,0,1-.986-1.042A1.015,1.015,0,0,1,3.958-2.167Z" transform="translate(6205 4128)" class="svg-fill-dark-gray-icon"  /></g></svg>
                            My Drive
                          </span>
                          <span [matBadge]="mydriveData ? mydriveData.length : '0'"></span>
                      </a>
                    </li>


                    <li class="list-group-item">
                      <a class="list-group-item-action d-flex align-items-center" href="#" data-toggle="tab" href="#link5" role="tablist">
                        <span class="flex-grow-1">
                          <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g transform="translate(-6196 -4150)"><rect width="20" height="20" transform="translate(6196 4150)" fill="none"/><path d="M-2.9-4.25A3.488,3.488,0,0,0,.512-7.813,3.488,3.488,0,0,0-2.9-11.375,3.488,3.488,0,0,0-6.312-7.813,3.488,3.488,0,0,0-2.9-4.25ZM-.56-3.232H-.813A4.635,4.635,0,0,1-2.9-2.723a4.644,4.644,0,0,1-2.087-.509H-5.24A3.591,3.591,0,0,0-8.75.432v.916A1.5,1.5,0,0,0-7.288,2.875H1.487A1.5,1.5,0,0,0,2.95,1.348V.432A3.591,3.591,0,0,0-.56-3.232ZM5.875-4.25A2.992,2.992,0,0,0,8.8-7.3a2.992,2.992,0,0,0-2.925-3.054A2.992,2.992,0,0,0,2.95-7.3,2.992,2.992,0,0,0,5.875-4.25ZM7.338-3.232H7.222a3.952,3.952,0,0,1-1.347.254,3.952,3.952,0,0,1-1.347-.254H4.412a3.277,3.277,0,0,0-1.7.49A4.766,4.766,0,0,1,3.925.432V1.654c0,.07-.015.137-.018.2H9.288A1.5,1.5,0,0,0,10.75.33,3.488,3.488,0,0,0,7.338-3.232Z" transform="translate(6205 4164)" class="svg-fill-dark-gray-icon" /></g></svg>
                          Shared with me
                        </span>
                        <span [matBadge]="sharedData ? sharedData.length : '0'"></span>
                      </a>
                    </li>

                    <li class="list-group-item" *ngIf="formSortLists.length == 0">
                      <a class="list-group-item-action d-flex align-items-center" href="#" data-toggle="tab" href="#link_noform" role="tablist">
                        <span class="flex-grow-1">
                          <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g transform="translate(-6196 -4150)"><rect width="20" height="20" transform="translate(6196 4150)" fill="none"/><path d="M-2.9-4.25A3.488,3.488,0,0,0,.512-7.813,3.488,3.488,0,0,0-2.9-11.375,3.488,3.488,0,0,0-6.312-7.813,3.488,3.488,0,0,0-2.9-4.25ZM-.56-3.232H-.813A4.635,4.635,0,0,1-2.9-2.723a4.644,4.644,0,0,1-2.087-.509H-5.24A3.591,3.591,0,0,0-8.75.432v.916A1.5,1.5,0,0,0-7.288,2.875H1.487A1.5,1.5,0,0,0,2.95,1.348V.432A3.591,3.591,0,0,0-.56-3.232ZM5.875-4.25A2.992,2.992,0,0,0,8.8-7.3a2.992,2.992,0,0,0-2.925-3.054A2.992,2.992,0,0,0,2.95-7.3,2.992,2.992,0,0,0,5.875-4.25ZM7.338-3.232H7.222a3.952,3.952,0,0,1-1.347.254,3.952,3.952,0,0,1-1.347-.254H4.412a3.277,3.277,0,0,0-1.7.49A4.766,4.766,0,0,1,3.925.432V1.654c0,.07-.015.137-.018.2H9.288A1.5,1.5,0,0,0,10.75.33,3.488,3.488,0,0,0,7.338-3.232Z" transform="translate(6205 4164)" class="svg-fill-dark-gray-icon" /></g></svg>
                          Template Documents
                        </span>
                        <span [matBadge]="forms ? forms.length : '0'"></span>
                      </a>
                    </li>

                    <li class="list-group-item collapsed" *ngIf="formSortLists.length > 0">
                      <a class="list-group-item-action d-flex align-items-center" href="#submenu1sub1" data-toggle="collapse" href="#submenu1sub1" role="tablist">
                       <span class="flex-grow-1">
                         <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="16.56" height="16" viewBox="0 0 16.56 16"><g transform="translate(-6199 -4359)"><rect width="16" height="16" transform="translate(6199 4359)" fill="none"/><path d="M15.007,6.57H8.8L6.727,4.5H1.552A1.552,1.552,0,0,0,0,6.052v9.315A1.552,1.552,0,0,0,1.552,16.92H15.007a1.552,1.552,0,0,0,1.552-1.552V8.122A1.552,1.552,0,0,0,15.007,6.57Z" transform="translate(6199 4356.5)" class="svg-fill-dark-gray-icon" /></g></svg>
                         Template Documents
                       </span>
                       <span [matBadge]="forms ? forms.length : '0'"></span>
                     </a>
                     <div class="collapse no-transition" id="submenu1sub1" aria-expanded="false">
                       <ul class="list-group" *ngIf="formSortLists && formSortLists.length > 0">
                         <li class="list-group-item" *ngFor="let item of formSortLists">
                           <a class="list-group-item-action d-flex align-items-center" data-toggle="tab" href="#link7" role="tablist" (click)="formClick(item)">
                             <span class="flex-grow-1" *ngIf="item[0]['category']">
                              <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="16.56" height="16" viewBox="0 0 16.56 16"><g transform="translate(-6199 -4359)"><rect width="16" height="16" transform="translate(6199 4359)" fill="none"/><path d="M15.007,6.57H8.8L6.727,4.5H1.552A1.552,1.552,0,0,0,0,6.052v9.315A1.552,1.552,0,0,0,1.552,16.92H15.007a1.552,1.552,0,0,0,1.552-1.552V8.122A1.552,1.552,0,0,0,15.007,6.57Z" transform="translate(6199 4356.5)" class="svg-fill-dark-gray-icon" /></g></svg>
                                {{item[0]['category']}}
                             </span>
                           </a>
                         </li>
                       </ul>
                     </div>
                   </li>


                   <li class="list-group-item">
                    <a class="list-group-item-action d-flex align-items-center" href="#" data-toggle="tab" href="#link8" role="tablist">
                      <span class="flex-grow-1">
                        <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="16.56" height="16" viewBox="0 0 16.56 16"><g transform="translate(-6199 -4359)"><rect width="16" height="16" transform="translate(6199 4359)" fill="none"/><path d="M15.007,6.57H8.8L6.727,4.5H1.552A1.552,1.552,0,0,0,0,6.052v9.315A1.552,1.552,0,0,0,1.552,16.92H15.007a1.552,1.552,0,0,0,1.552-1.552V8.122A1.552,1.552,0,0,0,15.007,6.57Z" transform="translate(6199 4356.5)" class="svg-fill-dark-gray-icon" /></g></svg>
                        Signed Documents
                      </span>
                      <span [matBadge]="signedDocument ? signedDocument.length : '0'"></span>
                    </a>
                  </li>

                  <li class="list-group-item">
                    <a class="list-group-item-action d-flex align-items-center" href="#" data-toggle="tab" href="#link9" role="tablist">
                      <span class="flex-grow-1">
                        <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="16.56" height="16" viewBox="0 0 16.56 16"><g transform="translate(-6199 -4359)"><rect width="16" height="16" transform="translate(6199 4359)" fill="none"/><path d="M15.007,6.57H8.8L6.727,4.5H1.552A1.552,1.552,0,0,0,0,6.052v9.315A1.552,1.552,0,0,0,1.552,16.92H15.007a1.552,1.552,0,0,0,1.552-1.552V8.122A1.552,1.552,0,0,0,15.007,6.57Z" transform="translate(6199 4356.5)" class="svg-fill-dark-gray-icon" /></g></svg>
                        Acknowledged Documents
                      </span>
                      <span [matBadge]="acknoweldgeDocument ? acknoweldgeDocument.length : '0'"></span>
                    </a>
                  </li>


                    <li class="list-group-item">
                      <a class="list-group-item-action d-flex align-items-center" href="#" data-toggle="tab" href="#link6" role="tablist">
                        <span class="flex-grow-1">
                          <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g transform="translate(0 -1)"><path d="M0,0H20V20H0Z" transform="translate(0 1)" fill="none"/><path d="M6,19a2.006,2.006,0,0,0,2,2h8a2.006,2.006,0,0,0,2-2V7H6ZM19,4H15.5l-1-1h-5l-1,1H5V6H19Z" transform="translate(-2 -1)" class="svg-fill-dark-gray-icon" /></g></svg>
                          Trash
                        </span>
                        <span [matBadge]="trashData ? trashData.length : '0'"></span>
                      </a>
                    </li>

                  </ul>
                </div>
              </div>
              <div class="col-xl-9 col-lg-9 col-md-9">
                <div class="tab-content">
                  <div class="p-3 tab-pane active" id="link4">
                    <app-mydrive-document
                      *ngIf="mydriveData"
                      [mydriveData]="mydriveData"
                      [folders]="folders"
                      [recent]="recent"
                      (submitData)="getSubmittedData($event)">
                    </app-mydrive-document>
                  </div>


                  <div class="p-3 tab-pane" id="link5">

                    <app-shared-document
                      *ngIf="sharedData"
                      [sharedData]="sharedData"
                      (sharesubmitData)="getSubmittedData($event)">
                    </app-shared-document>

                  </div>

                  <div class="p-3 tab-pane" id="link_noform">

                    <h3 class="text-center"> You do not have any documents ! </h3>
                    <div class="d-flex justify-content-center">
                      <button 
                          class="btn btn btn-outline-primary m-0 mr-2"
                          [routerLink]="['/pages/document-module/document-template']">
                          <i class="material-icons" >add</i> please upload new document here
                      </button>
                    </div>

                  </div>

                  <div class="p-3 tab-pane" id="link6">
                    <app-trash-document
                      *ngIf="trashData"
                      [trashData]="trashData"
                      (trashsubmitData)="getSubmittedData($event)">
                    </app-trash-document>
                  </div>
                  <div class="p-3 tab-pane" id="link7">
                    <app-form-document
                      *ngIf="formVisibility"
                      [formsData]="formsData"
                      (formsubmitData)="getSubmittedData($event)">
                    </app-form-document>
                  </div>
                  <div class="p-3 tab-pane" id="link8">
                    <app-signed-document
                      *ngIf="signedDocument"
                      [formsData]="signedDocument">
                    </app-signed-document>
                  </div>
                  <div class="p-3 tab-pane" id="link9">
                    <app-acknowledge-document
                      *ngIf="acknoweldgeDocument"
                      [formsData]="acknoweldgeDocument">
                    </app-acknowledge-document>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Folder Modal -->
<div id="createFolder" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"> {{getLang('create folder','Create Folder')}}</h4>
        <button type="button" class="close" data-dismiss="modal" id="closeBtn">&times;</button>
      </div>
      <div class="modal-body">
        <app-document-create-folder
            *ngIf="folderFormVisibility"
            (folderSubmitData)="getSubmittedDataFolder($event)">
        </app-document-create-folder>
      </div>
    </div>
  </div>
</div>

<!-- Document Modal -->
<div id="myModalAttachment" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" id="DocumentCloseBtn" style="display: none;"
          data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Add Attachment</h4>
      </div>
      <div class="modal-body">
        <app-document-create
          *ngIf="documentFormVisibility"
          (documentSubmitData)="getSubmittedDataDocument($event)">
        </app-document-create>
      </div>

    </div>
  </div>
</div>
